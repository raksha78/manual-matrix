pipelines:
  - name: S_Matrix_0029
    steps:
      - name: bash_step
        type: Bash
        execution:
          onExecute:
             - echo "Hi from bash step"
      - name : powershell_step
        type: PowerShell
        configuration:
          nodePool: win_2019
          inputSteps:
            - name: bash_step
        execution:
          onExecute:
            - write-output "Hi !!"
            - docker images
      - name: S_Matrix_0029
        type: Matrix
        stepMode: Bash
        stepletMultipliers:
          environmentVariables:
            - animal: dog
              bird: sparrow
            - animal: cat
              bird: crow
            - animal: cow
              bird: parrot
          runtimes:
            - type: image
              image:
                auto:
                  language: node
                  versions:
                    - 8.17.0 
          
        execution:
          onExecute:
            - echo "Executing matrix step on ${steplet_id}"
            - sleep 3m
            - echo "Variation animal = ${animal}, bird = ${bird}"
            - sleep 5m
